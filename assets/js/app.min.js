!function(window,document,undefined){"use strict";var docEl=document.documentElement,util={create:function(el){return document.createElement(el)},old:!!/(Android\s(1.|2.))|(Silk\/1.)/i.test(navigator.userAgent),pfx:function(){var style=document.createElement("dummy").style,prefixes=["Webkit","Moz","O","ms"],memory={};return function(prop){if(void 0===memory[prop]){var ucProp=prop.charAt(0).toUpperCase()+prop.substr(1),props=(prop+" "+prefixes.join(ucProp+" ")+ucProp).split(" ");memory[prop]=null;for(var i in props)if(void 0!==style[props[i]]){memory[prop]=props[i];break}}return memory[prop]}}()},Feature={css3Dtransform:!!(!util.old&&null!==util.pfx("perspective")),cssTransform:!!(!util.old&&null!==util.pfx("transformOrigin")),cssTransition:!!(null!==util.pfx("transition")),cssFlexbox:!!(null!==util.pfx("flexBasis")),addEventListener:!!window.addEventListener,querySelectorAll:!!document.querySelectorAll,matchMedia:!!window.matchMedia,deviceMotion:"DeviceMotionEvent"in window,deviceOrientation:"DeviceOrientationEvent"in window,contextMenu:"contextMenu"in docEl&&"HTMLMenuItemElement"in window,classList:"classList"in docEl,placeholder:"placeholder"in util.create("input"),localStorage:function(){try{return localStorage.setItem("x","x"),localStorage.removeItem("x"),!0}catch(err){return!1}}(),historyAPI:window.history&&"pushState"in window.history,serviceWorker:"serviceWorker"in navigator,viewportUnit:function(el){try{el.style.width="1vw";return!!(""!==el.style.width)}catch(err){return!1}}(util.create("dummy")),remUnit:function(el){try{el.style.width="1rem";return!!(""!==el.style.width)}catch(err){return!1}}(util.create("dummy")),canvas:function(el){return!(!el.getContext||!el.getContext("2d"))}(util.create("canvas")),svg:!!document.createElementNS&&!!document.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,webGL:function(el){try{return!(!window.WebGLRenderingContext||!el.getContext("webgl")&&!el.getContext("experimental-webgl"))}catch(err){return!1}}(util.create("canvas")),cors:"XMLHttpRequest"in window&&"withCredentials"in new XMLHttpRequest,touch:!!("ontouchstart"in window||window.navigator&&window.navigator.msPointerEnabled&&window.MSGesture||window.DocumentTouch&&document instanceof DocumentTouch),async:"async"in util.create("script"),defer:"defer"in util.create("script"),geolocation:"geolocation"in navigator,srcset:"srcset"in util.create("img"),sizes:"sizes"in util.create("img"),pictureElement:"HTMLPictureElement"in window,testAll:function(){var classes=" js";for(var test in this)"testAll"!==test&&"constructor"!==test&&this[test]&&(classes+=" "+test);docEl.className+=classes.toLowerCase()}};window.feature=Feature}(window,document),function(){var __indexOf=[].indexOf||function(item){for(var i=0,l=this.length;i<l;i++)if(i in this&&this[i]===item)return i;return-1},__slice=[].slice;!function(root,factory){"function"==typeof define&&define.amd?define("waypoints",["jquery"],function($){return factory($,root)}):factory(root.jQuery,root)}(window,function($,window){var $w,Context,Waypoint,allWaypoints,contextCounter,contextKey,contexts,isTouch,jQMethods,methods,resizeEvent,scrollEvent,waypointCounter,waypointKey,wp,wps;return $w=$(window),isTouch=__indexOf.call(window,"ontouchstart")>=0,allWaypoints={horizontal:{},vertical:{}},contextCounter=1,contexts={},contextKey="waypoints-context-id",resizeEvent="resize.waypoints",scrollEvent="scroll.waypoints",waypointCounter=1,waypointKey="waypoints-waypoint-ids",wp="waypoint",wps="waypoints",Context=function(){function Context($element){var _this=this;this.$element=$element,this.element=$element[0],this.didResize=!1,this.didScroll=!1,this.id="context"+contextCounter++,this.oldScroll={x:$element.scrollLeft(),y:$element.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[contextKey]=this.id,contexts[this.id]=this,$element.bind(scrollEvent,function(){var scrollHandler;if(!_this.didScroll&&!isTouch)return _this.didScroll=!0,scrollHandler=function(){return _this.doScroll(),_this.didScroll=!1},window.setTimeout(scrollHandler,$[wps].settings.scrollThrottle)}),$element.bind(resizeEvent,function(){var resizeHandler;if(!_this.didResize)return _this.didResize=!0,resizeHandler=function(){return $[wps]("refresh"),_this.didResize=!1},window.setTimeout(resizeHandler,$[wps].settings.resizeThrottle)})}return Context.prototype.doScroll=function(){var axes,_this=this;return axes={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!isTouch||axes.vertical.oldScroll&&axes.vertical.newScroll||$[wps]("refresh"),$.each(axes,function(aKey,axis){var direction,isForward,triggered;return triggered=[],isForward=axis.newScroll>axis.oldScroll,direction=isForward?axis.forward:axis.backward,$.each(_this.waypoints[aKey],function(wKey,waypoint){var _ref,_ref1;return axis.oldScroll<(_ref=waypoint.offset)&&_ref<=axis.newScroll?triggered.push(waypoint):axis.newScroll<(_ref1=waypoint.offset)&&_ref1<=axis.oldScroll?triggered.push(waypoint):void 0}),triggered.sort(function(a,b){return a.offset-b.offset}),isForward||triggered.reverse(),$.each(triggered,function(i,waypoint){if(waypoint.options.continuous||i===triggered.length-1)return waypoint.trigger([direction])})}),this.oldScroll={x:axes.horizontal.newScroll,y:axes.vertical.newScroll}},Context.prototype.refresh=function(){var axes,cOffset,isWin,_this=this;return isWin=$.isWindow(this.element),cOffset=this.$element.offset(),this.doScroll(),axes={horizontal:{contextOffset:isWin?0:cOffset.left,contextScroll:isWin?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:isWin?0:cOffset.top,contextScroll:isWin?0:this.oldScroll.y,contextDimension:isWin?$[wps]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},$.each(axes,function(aKey,axis){return $.each(_this.waypoints[aKey],function(i,waypoint){var adjustment,elementOffset,oldOffset,_ref,_ref1;if(adjustment=waypoint.options.offset,oldOffset=waypoint.offset,elementOffset=$.isWindow(waypoint.element)?0:waypoint.$element.offset()[axis.offsetProp],$.isFunction(adjustment)?adjustment=adjustment.apply(waypoint.element):"string"==typeof adjustment&&(adjustment=parseFloat(adjustment),waypoint.options.offset.indexOf("%")>-1&&(adjustment=Math.ceil(axis.contextDimension*adjustment/100))),waypoint.offset=elementOffset-axis.contextOffset+axis.contextScroll-adjustment,(!waypoint.options.onlyOnScroll||null==oldOffset)&&waypoint.enabled)return null!==oldOffset&&oldOffset<(_ref=axis.oldScroll)&&_ref<=waypoint.offset?waypoint.trigger([axis.backward]):null!==oldOffset&&oldOffset>(_ref1=axis.oldScroll)&&_ref1>=waypoint.offset?waypoint.trigger([axis.forward]):null===oldOffset&&axis.oldScroll>=waypoint.offset?waypoint.trigger([axis.forward]):void 0})})},Context.prototype.checkEmpty=function(){if($.isEmptyObject(this.waypoints.horizontal)&&$.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([resizeEvent,scrollEvent].join(" ")),delete contexts[this.id]},Context}(),Waypoint=function(){function Waypoint($element,context,options){var idList,_ref;"bottom-in-view"===options.offset&&(options.offset=function(){var contextHeight;return contextHeight=$[wps]("viewportHeight"),$.isWindow(context.element)||(contextHeight=context.$element.height()),contextHeight-$(this).outerHeight()}),this.$element=$element,this.element=$element[0],this.axis=options.horizontal?"horizontal":"vertical",this.callback=options.handler,this.context=context,this.enabled=options.enabled,this.id="waypoints"+waypointCounter++,this.offset=null,this.options=options,context.waypoints[this.axis][this.id]=this,allWaypoints[this.axis][this.id]=this,(idList=null!=(_ref=this.element[waypointKey])?_ref:[]).push(this.id),this.element[waypointKey]=idList}return Waypoint.prototype.trigger=function(args){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,args),this.options.triggerOnce?this.destroy():void 0},Waypoint.prototype.disable=function(){return this.enabled=!1},Waypoint.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},Waypoint.prototype.destroy=function(){return delete allWaypoints[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},Waypoint.getWaypointsByElement=function(element){var all,ids;return(ids=element[waypointKey])?(all=$.extend({},allWaypoints.horizontal,allWaypoints.vertical),$.map(ids,function(id){return all[id]})):[]},Waypoint}(),methods={init:function(f,options){return options=$.extend({},$.fn[wp].defaults,options),null==options.handler&&(options.handler=f),this.each(function(){var $this,context,contextElement,_ref1;return $this=$(this),contextElement=null!=(_ref1=options.context)?_ref1:$.fn[wp].defaults.context,$.isWindow(contextElement)||(contextElement=$this.closest(contextElement)),contextElement=$(contextElement),(context=contexts[contextElement[0][contextKey]])||(context=new Context(contextElement)),new Waypoint($this,context,options)}),$[wps]("refresh"),this},disable:function(){return methods._invoke.call(this,"disable")},enable:function(){return methods._invoke.call(this,"enable")},destroy:function(){return methods._invoke.call(this,"destroy")},prev:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index>0)return stack.push(waypoints[index-1])})},next:function(axis,selector){return methods._traverse.call(this,axis,selector,function(stack,index,waypoints){if(index<waypoints.length-1)return stack.push(waypoints[index+1])})},_traverse:function(axis,selector,push){var stack,waypoints;return null==axis&&(axis="vertical"),null==selector&&(selector=window),waypoints=jQMethods.aggregate(selector),stack=[],this.each(function(){var index;return index=$.inArray(this,waypoints[axis]),push(stack,index,waypoints[axis])}),this.pushStack(stack)},_invoke:function(method){return this.each(function(){var waypoints;return waypoints=Waypoint.getWaypointsByElement(this),$.each(waypoints,function(i,waypoint){return waypoint[method](),!0})}),this}},$.fn[wp]=function(){var args,method;return method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],methods[method]?methods[method].apply(this,args):$.isFunction(method)?methods.init.apply(this,arguments):$.isPlainObject(method)?methods.init.apply(this,[null,method]):method?$.error("The "+method+" method does not exist in jQuery Waypoints."):$.error("jQuery Waypoints needs a callback function or handler option.")},$.fn[wp].defaults={context:window,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},jQMethods={refresh:function(){return $.each(contexts,function(i,context){return context.refresh()})},viewportHeight:function(){var _ref;return null!=(_ref=window.innerHeight)?_ref:$w.height()},aggregate:function(contextSelector){var collection,waypoints,_ref;return collection=allWaypoints,contextSelector&&(collection=null!=(_ref=contexts[$(contextSelector)[0][contextKey]])?_ref.waypoints:void 0),collection?(waypoints={horizontal:[],vertical:[]},$.each(waypoints,function(axis,arr){return $.each(collection[axis],function(key,waypoint){return arr.push(waypoint)}),arr.sort(function(a,b){return a.offset-b.offset}),waypoints[axis]=$.map(arr,function(waypoint){return waypoint.element}),waypoints[axis]=$.unique(waypoints[axis])}),waypoints):[]},above:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"vertical",function(context,waypoint){return waypoint.offset<=context.oldScroll.y})},below:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"vertical",function(context,waypoint){return waypoint.offset>context.oldScroll.y})},left:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"horizontal",function(context,waypoint){return waypoint.offset<=context.oldScroll.x})},right:function(contextSelector){return null==contextSelector&&(contextSelector=window),jQMethods._filter(contextSelector,"horizontal",function(context,waypoint){return waypoint.offset>context.oldScroll.x})},enable:function(){return jQMethods._invoke("enable")},disable:function(){return jQMethods._invoke("disable")},destroy:function(){return jQMethods._invoke("destroy")},extendFn:function(methodName,f){return methods[methodName]=f},_invoke:function(method){var waypoints;return waypoints=$.extend({},allWaypoints.vertical,allWaypoints.horizontal),$.each(waypoints,function(key,waypoint){return waypoint[method](),!0})},_filter:function(selector,axis,test){var context,waypoints;return(context=contexts[$(selector)[0][contextKey]])?(waypoints=[],$.each(context.waypoints[axis],function(i,waypoint){if(test(context,waypoint))return waypoints.push(waypoint)}),waypoints.sort(function(a,b){return a.offset-b.offset}),$.map(waypoints,function(waypoint){return waypoint.element})):[]}},$[wps]=function(){var args,method;return method=arguments[0],args=2<=arguments.length?__slice.call(arguments,1):[],jQMethods[method]?jQMethods[method].apply(null,args):jQMethods.aggregate.call(null,method)},$[wps].settings={resizeThrottle:100,scrollThrottle:30},$w.on("load.waypoints",function(){return $[wps]("refresh")})})}.call(this),function($){$.fn.unveil=function(threshold,callback){function unveil(){var inview=images.filter(function(){var $e=$(this);if(!$e.is(":hidden")){var wt=$w.scrollTop(),wb=wt+$w.height(),et=$e.offset().top;return et+$e.height()>=wt-th&&et<=wb+th}});loaded=inview.trigger("unveil"),images=images.not(loaded)}var loaded,$w=$(window),th=threshold||0,attrib=window.devicePixelRatio>1?"data-src-retina":"data-src",images=this;return this.one("unveil",function(){var source=this.getAttribute(attrib);(source=source||this.getAttribute("data-src"))&&("IMG"===this.tagName?(this.setAttribute("src",source),this.parentElement.classList.add("is-loaded")):(this.style.backgroundImage="url("+source+")",this.parentElement.classList.add("is-loaded")),this.classList,"function"==typeof callback&&callback.call(this))}),$w.on("scroll.unveil resize.unveil lookup.unveil",unveil),unveil(),this}}(window.jQuery||window.Zepto),$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeInExpo",swing:function(x,t,b,c,d){return jQuery.easing[jQuery.easing.def](x,t,b,c,d)},easeInSine:function(x,t,b,c,d){return-c*Math.cos(t/d*(Math.PI/2))+c+b},easeOutSine:function(x,t,b,c,d){return c*Math.sin(t/d*(Math.PI/2))+b},easeInOutSine:function(x,t,b,c,d){return-c/2*(Math.cos(Math.PI*t/d)-1)+b},easeInExpo:function(x,t,b,c,d){return 0===t?b:c*Math.pow(2,10*(t/d-1))+b},easeOutExpo:function(x,t,b,c,d){return t===d?b+c:c*(1-Math.pow(2,-10*t/d))+b}}),function($){var s,ArticlesMast={settings:{articlesContainer:$(".js-article"),articleMastBg:$(".js-article-bg"),articleMastBgFirst:$(".js-article-bg:first-child"),articleLink:$(".js-article-link"),visibleClass:"is-visible",self:this},init:function(){s=this.settings,this.bind()},bind:function(){ArticlesMast.setupItems(),s.articleLink.hover(function(){s.self=this,ArticlesMast.handleHover()})},setupItems:function(){s.articleMastBgFirst.addClass("is-visible-start")},handleHover:function(){var index=s.articleLink.index(s.self)+1;s.articleMastBg.removeClass("is-visible-start").removeClass(s.visibleClass),$(".js-article-bg:nth-child("+index+")").addClass(s.visibleClass)}};$(".js-article-bg").length&&ArticlesMast.init()}(jQuery);var PageTransition=function(){var s,siteURL="http://"+top.location.host.toString();return{settings:{noTransLinks:$('a[href^="'+siteURL+'"], a[href^="/"], a[href^="./"], a[href^="../"]').not(".no-trans"),linkLocation:null,body:$("body"),exitDuration:1e3,entranceDuration:500},init:function(){s=this.settings,this.loadingClasses(),this.transitionPage(),this.unloadWindow(),this.workaround()},loadingClasses:function(){s.body.addClass("is-loading"),setTimeout(function(){$("body").removeClass("is-loading").addClass("is-loaded")},s.entranceDuration)},transitionPage:function(){s.noTransLinks.on("click",function(e){s.body.hasClass("no-trans")||e.metaKey||e.ctrlKey||e.shiftKey||(e.preventDefault(),s.linkLocation=this.href,s.body.removeClass("is-loaded").addClass("is-exiting"),setTimeout(function(){window.location=s.linkLocation},s.exitDuration))})},unloadWindow:function(){$(window).unload(function(){$(window).unbind("unload")})},workaround:function(){$(window).bind("pageshow",function(e){e.originalEvent.persisted&&window.location.reload()})}}}();PageTransition.init(),function($){var loadThenScroll=function(){var settings={scrollSpeed:600,scrollDelay:500,scrollOffset:0,easing:"easeInOutSine"};return{init:function(){this.doScroll()},doScroll:function(){window.location.hash&&setTimeout(function(){$("html, body").scrollTop(0).show(),$("html, body").stop().animate({scrollTop:$(window.location.hash).offset().top-settings.scrollOffset},{duration:settings.scrollSpeed,easing:settings.scrollEasing,complete:loadThenScroll.headerEntrance})},settings.scrollDelay)},headerEntrance:function(){setTimeout(function(){$("body").removeClass("scrolling-down").addClass("scrolling-up")},400)}}}();loadThenScroll.init()}(jQuery),function($){scrollDirection={init:function(){var didScroll,lastScrollTop=0,scrollDistance=15,navbarHeight=$(".header-main").outerHeight();$(window).scroll(function(){didScroll=!0}),setInterval(function(){didScroll&&(!function(){var st=$(this).scrollTop();Math.abs(lastScrollTop-st)<=scrollDistance||(st>lastScrollTop&&st>navbarHeight?$("body").removeClass("at-top close-to-top").removeClass("scrolling-up").addClass("scrolling-down"):st+$(window).height()<$(document).height()&&$("body").removeClass("scrolling-down").addClass("scrolling-up"),$("body").hasClass("scrolling-up")&&st<=225&&$("body").addClass("close-to-top"),st<=0&&$("body").removeClass("scrolling-down scrolling-up close-to-top").addClass("at-top"),lastScrollTop=st)}(),didScroll=!1)},250)}},scrollDirection.init()}(jQuery),function($){var StickyNav=function(){var $stickyNav=$(".js-sticky");if($stickyNav.length){var stickyNavHeight=$stickyNav.outerHeight(),stickyOffset=$stickyNav.data("sticky-offset");stickyStart=$stickyNav.offset().top-stickyOffset,didScroll=!1,scrollInterval="1500"}return{init:function(){this.setStyles(),this.doScroll()},setStyles:function(){$stickyNav.each(function(){$(this).css("background",$(this).data("sticky-bg")),$(this).css("color",$(this).data("sticky-color"))})},doScroll:function(){$(window).scroll(function(){didScroll=!0}),setInterval(function(){didScroll&&(didScroll=!1,$(window).on("scroll",$stickyNav,function(){console.log("triggering"),$stickyNav.parent().height(stickyNavHeight);$(window).scrollTop()>=stickyStart?$stickyNav.addClass("is-sticky"):$stickyNav.removeClass("is-sticky")}))},scrollInterval)}}}();$(".js-sticky").length&&StickyNav.init()}(jQuery);var Spanizer=function(){var s;return{settings:{letters:$(".js-letters"),words:$(".js-words")},init:function(){s=this.settings,this.bindEvents()},bindEvents:function(){Spanizer.letters(),Spanizer.words()},letters:function(){s.letters.html(function(i,el){var spanizeArr=[];return $.trim(el).split("").forEach(function(idx){" "!==idx?spanizeArr.push("<span>"+idx+"</span>"):spanizeArr.push("<span>&nbsp;</span>")}),spanizeArr.join("")})},words:function(){s.words.html(function(i,el){return"<span>"+el.split(" ").join("</span> <span>")+"</span>"})}}}();($(".js-letters").length||$(".js-words").length)&&Spanizer.init();var ScrollSequencer=function(){var scrollChild=$(".js-scroll").data("scroll-seq"),scrollOffset=$(".js-scroll").data("scroll-offset"),scrollSequence=$('[data-scroll-seq="'+scrollChild+'"]');return{init:function(){this.scrollTrigger()},scrollTrigger:function(trigger){scrollSequence.each(function(){var self=$(this);(trigger||self).waypoint(function(){function addClassToNextChild(){index!==children.length&&(children.eq(index++).addClass("is-animated"),window.setTimeout(addClassToNextChild,200))}var children=$(scrollChild),index=0;addClassToNextChild()},{triggerOnce:!1,offset:scrollOffset})})}}}();ScrollSequencer.init(),function($){({init:function(trigger){$("[data-scroll]").each(function(){var self=$(this);(trigger||self).waypoint(function(){self.addClass("is-animated")},{triggerOnce:!0,offset:"90%"})})}}).init()}(jQuery);var AnimationDelay=function(){document.querySelectorAll("body");var aniTriggers=document.querySelectorAll("[data-ani-delay]");return{init:function(){this.startAnimation()},startAnimation:function(){console.log(aniTriggers),Array.from(aniTriggers).forEach(function(aniTrigger){console.log(aniTrigger);var delayTime=aniTrigger.dataset.aniDelay;console.log(delayTime),setTimeout(function(){aniTrigger.classList.add("is-animated")},delayTime)})}}}();AnimationDelay.init(),function($){var s,WorkPromo={settings:{promoContainer:$(".js-promo"),promoTrans:$(".js-promo-trans"),promoImg:$(".js-promo-bg"),promoLink:$(".js-promo-link"),body:$("body"),self:this},init:function(){s=this.settings,this.bind()},bind:function(){WorkPromo.setupItems(),s.promoLink.hover(function(){s.self=this,WorkPromo.handleHover()})},setupItems:function(){},handleHover:function(){if($(window).width()>767){var index=s.promoLink.index(s.self)+1;$(".js-promo-bg:nth-child("+index+")").toggleClass("is-visible").fadeIn("300"),$(".js-promo").toggleClass("is-hovering")}}};$(".js-promo-bg").length&&WorkPromo.init()}(jQuery);var site={featureJS:function(){$("html").removeClass("no-js"),feature.svg||$("html").addClass("no-svg"),feature.cssFlexbox||$("html").addClass("no-flexbox")},mobileBgVid:function(){var video=$(".js-bg-vid").get(0);enableInlineVideo(video,{iPad:!0})},lazy:function(){$(".js-lazy").unveil(-200,function(){$(this).load(function(){$(this).parents(".post__figure").addClass("is-loaded")})})}};$(function(){site.featureJS(),$(".js-lazy").length&&site.lazy(),$(".js-bg-vid").length});