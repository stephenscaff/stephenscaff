!function(t,n,e){"use strict";var i=n.documentElement,o={create:function(t){return n.createElement(t)},old:!!/(Android\s(1.|2.))|(Silk\/1.)/i.test(navigator.userAgent),pfx:function(){var t=n.createElement("dummy").style,e=["Webkit","Moz","O","ms"],i={};return function(n){if(void 0===i[n]){var o=n.charAt(0).toUpperCase()+n.substr(1),r=(n+" "+e.join(o+" ")+o).split(" ");i[n]=null;for(var s in r)if(void 0!==t[r[s]]){i[n]=r[s];break}}return i[n]}}()},r={css3Dtransform:function(){return!(o.old||null===o.pfx("perspective"))}(),cssTransform:function(){return!(o.old||null===o.pfx("transformOrigin"))}(),cssTransition:function(){return!(null===o.pfx("transition"))}(),cssFlexbox:function(){return!(null===o.pfx("flexBasis"))}(),addEventListener:!!t.addEventListener,querySelectorAll:!!n.querySelectorAll,matchMedia:!!t.matchMedia,deviceMotion:"DeviceMotionEvent"in t,deviceOrientation:"DeviceOrientationEvent"in t,contextMenu:"contextMenu"in i&&"HTMLMenuItemElement"in t,classList:"classList"in i,placeholder:"placeholder"in o.create("input"),localStorage:function(){var t="x";try{return localStorage.setItem("x","x"),localStorage.removeItem("x"),!0}catch(t){return!1}}(),historyAPI:t.history&&"pushState"in t.history,serviceWorker:"serviceWorker"in navigator,viewportUnit:function(t){try{t.style.width="1vw";return!!(""!==t.style.width)}catch(t){return!1}}(o.create("dummy")),remUnit:function(t){try{t.style.width="1rem";return!!(""!==t.style.width)}catch(t){return!1}}(o.create("dummy")),canvas:function(t){return!(!t.getContext||!t.getContext("2d"))}(o.create("canvas")),svg:!!n.createElementNS&&!!n.createElementNS("http://www.w3.org/2000/svg","svg").createSVGRect,webGL:function(n){try{return!(!t.WebGLRenderingContext||!n.getContext("webgl")&&!n.getContext("experimental-webgl"))}catch(t){return!1}}(o.create("canvas")),cors:"XMLHttpRequest"in t&&"withCredentials"in new XMLHttpRequest,touch:!!("ontouchstart"in t||t.navigator&&t.navigator.msPointerEnabled&&t.MSGesture||t.DocumentTouch&&n instanceof DocumentTouch),async:"async"in o.create("script"),defer:"defer"in o.create("script"),geolocation:"geolocation"in navigator,srcset:"srcset"in o.create("img"),sizes:"sizes"in o.create("img"),pictureElement:"HTMLPictureElement"in t,testAll:function(){var t=" js";for(var n in this)"testAll"!==n&&"constructor"!==n&&this[n]&&(t+=" "+n);i.className+=t.toLowerCase()}};t.feature=r}(window,document),function(){var t=[].indexOf||function(t){for(var n=0,e=this.length;n<e;n++)if(n in this&&this[n]===t)return n;return-1},n=[].slice;!function(t,n){"function"==typeof define&&define.amd?define("waypoints",["jquery"],function($){return n($,t)}):n(t.jQuery,t)}(window,function($,e){var i,o,r,s,l,a,c,u,f,d,h,p,g,v,y,m;return i=$(e),u=t.call(e,"ontouchstart")>=0,s={horizontal:{},vertical:{}},l=1,c={},a="waypoints-context-id",h="resize.waypoints",p="scroll.waypoints",g=1,v="waypoints-waypoint-ids",y="waypoint",m="waypoints",o=function(){function t(t){var n=this;this.$element=t,this.element=t[0],this.didResize=!1,this.didScroll=!1,this.id="context"+l++,this.oldScroll={x:t.scrollLeft(),y:t.scrollTop()},this.waypoints={horizontal:{},vertical:{}},this.element[a]=this.id,c[this.id]=this,t.bind(p,function(){var t;if(!n.didScroll&&!u)return n.didScroll=!0,t=function(){return n.doScroll(),n.didScroll=!1},e.setTimeout(t,$[m].settings.scrollThrottle)}),t.bind(h,function(){var t;if(!n.didResize)return n.didResize=!0,t=function(){return $[m]("refresh"),n.didResize=!1},e.setTimeout(t,$[m].settings.resizeThrottle)})}return t.prototype.doScroll=function(){var t,n=this;return t={horizontal:{newScroll:this.$element.scrollLeft(),oldScroll:this.oldScroll.x,forward:"right",backward:"left"},vertical:{newScroll:this.$element.scrollTop(),oldScroll:this.oldScroll.y,forward:"down",backward:"up"}},!u||t.vertical.oldScroll&&t.vertical.newScroll||$[m]("refresh"),$.each(t,function(t,e){var i,o,r;return r=[],o=e.newScroll>e.oldScroll,i=o?e.forward:e.backward,$.each(n.waypoints[t],function(t,n){var i,o;return e.oldScroll<(i=n.offset)&&i<=e.newScroll?r.push(n):e.newScroll<(o=n.offset)&&o<=e.oldScroll?r.push(n):void 0}),r.sort(function(t,n){return t.offset-n.offset}),o||r.reverse(),$.each(r,function(t,n){if(n.options.continuous||t===r.length-1)return n.trigger([i])})}),this.oldScroll={x:t.horizontal.newScroll,y:t.vertical.newScroll}},t.prototype.refresh=function(){var t,n,e,i=this;return e=$.isWindow(this.element),n=this.$element.offset(),this.doScroll(),t={horizontal:{contextOffset:e?0:n.left,contextScroll:e?0:this.oldScroll.x,contextDimension:this.$element.width(),oldScroll:this.oldScroll.x,forward:"right",backward:"left",offsetProp:"left"},vertical:{contextOffset:e?0:n.top,contextScroll:e?0:this.oldScroll.y,contextDimension:e?$[m]("viewportHeight"):this.$element.height(),oldScroll:this.oldScroll.y,forward:"down",backward:"up",offsetProp:"top"}},$.each(t,function(t,n){return $.each(i.waypoints[t],function(t,e){var i,o,r,s,l;if(i=e.options.offset,r=e.offset,o=$.isWindow(e.element)?0:e.$element.offset()[n.offsetProp],$.isFunction(i)?i=i.apply(e.element):"string"==typeof i&&(i=parseFloat(i),e.options.offset.indexOf("%")>-1&&(i=Math.ceil(n.contextDimension*i/100))),e.offset=o-n.contextOffset+n.contextScroll-i,(!e.options.onlyOnScroll||null==r)&&e.enabled)return null!==r&&r<(s=n.oldScroll)&&s<=e.offset?e.trigger([n.backward]):null!==r&&r>(l=n.oldScroll)&&l>=e.offset?e.trigger([n.forward]):null===r&&n.oldScroll>=e.offset?e.trigger([n.forward]):void 0})})},t.prototype.checkEmpty=function(){if($.isEmptyObject(this.waypoints.horizontal)&&$.isEmptyObject(this.waypoints.vertical))return this.$element.unbind([h,p].join(" ")),delete c[this.id]},t}(),r=function(){function t(t,n,e){var i,o;"bottom-in-view"===e.offset&&(e.offset=function(){var t;return t=$[m]("viewportHeight"),$.isWindow(n.element)||(t=n.$element.height()),t-$(this).outerHeight()}),this.$element=t,this.element=t[0],this.axis=e.horizontal?"horizontal":"vertical",this.callback=e.handler,this.context=n,this.enabled=e.enabled,this.id="waypoints"+g++,this.offset=null,this.options=e,n.waypoints[this.axis][this.id]=this,s[this.axis][this.id]=this,i=null!=(o=this.element[v])?o:[],i.push(this.id),this.element[v]=i}return t.prototype.trigger=function(t){if(this.enabled)return null!=this.callback&&this.callback.apply(this.element,t),this.options.triggerOnce?this.destroy():void 0},t.prototype.disable=function(){return this.enabled=!1},t.prototype.enable=function(){return this.context.refresh(),this.enabled=!0},t.prototype.destroy=function(){return delete s[this.axis][this.id],delete this.context.waypoints[this.axis][this.id],this.context.checkEmpty()},t.getWaypointsByElement=function(t){var n,e;return(e=t[v])?(n=$.extend({},s.horizontal,s.vertical),$.map(e,function(t){return n[t]})):[]},t}(),d={init:function(t,n){var e;return n=$.extend({},$.fn[y].defaults,n),null==(e=n.handler)&&(n.handler=t),this.each(function(){var t,e,i,s;return t=$(this),i=null!=(s=n.context)?s:$.fn[y].defaults.context,$.isWindow(i)||(i=t.closest(i)),i=$(i),e=c[i[0][a]],e||(e=new o(i)),new r(t,e,n)}),$[m]("refresh"),this},disable:function(){return d._invoke.call(this,"disable")},enable:function(){return d._invoke.call(this,"enable")},destroy:function(){return d._invoke.call(this,"destroy")},prev:function(t,n){return d._traverse.call(this,t,n,function(t,n,e){if(n>0)return t.push(e[n-1])})},next:function(t,n){return d._traverse.call(this,t,n,function(t,n,e){if(n<e.length-1)return t.push(e[n+1])})},_traverse:function(t,n,i){var o,r;return null==t&&(t="vertical"),null==n&&(n=e),r=f.aggregate(n),o=[],this.each(function(){var n;return n=$.inArray(this,r[t]),i(o,n,r[t])}),this.pushStack(o)},_invoke:function(t){return this.each(function(){var n;return n=r.getWaypointsByElement(this),$.each(n,function(n,e){return e[t](),!0})}),this}},$.fn[y]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],d[e]?d[e].apply(this,t):$.isFunction(e)?d.init.apply(this,arguments):$.isPlainObject(e)?d.init.apply(this,[null,e]):e?$.error("The "+e+" method does not exist in jQuery Waypoints."):$.error("jQuery Waypoints needs a callback function or handler option.")},$.fn[y].defaults={context:e,continuous:!0,enabled:!0,horizontal:!1,offset:0,triggerOnce:!1},f={refresh:function(){return $.each(c,function(t,n){return n.refresh()})},viewportHeight:function(){var t;return null!=(t=e.innerHeight)?t:i.height()},aggregate:function(t){var n,e,i;return n=s,t&&(n=null!=(i=c[$(t)[0][a]])?i.waypoints:void 0),n?(e={horizontal:[],vertical:[]},$.each(e,function(t,i){return $.each(n[t],function(t,n){return i.push(n)}),i.sort(function(t,n){return t.offset-n.offset}),e[t]=$.map(i,function(t){return t.element}),e[t]=$.unique(e[t])}),e):[]},above:function(t){return null==t&&(t=e),f._filter(t,"vertical",function(t,n){return n.offset<=t.oldScroll.y})},below:function(t){return null==t&&(t=e),f._filter(t,"vertical",function(t,n){return n.offset>t.oldScroll.y})},left:function(t){return null==t&&(t=e),f._filter(t,"horizontal",function(t,n){return n.offset<=t.oldScroll.x})},right:function(t){return null==t&&(t=e),f._filter(t,"horizontal",function(t,n){return n.offset>t.oldScroll.x})},enable:function(){return f._invoke("enable")},disable:function(){return f._invoke("disable")},destroy:function(){return f._invoke("destroy")},extendFn:function(t,n){return d[t]=n},_invoke:function(t){var n;return n=$.extend({},s.vertical,s.horizontal),$.each(n,function(n,e){return e[t](),!0})},_filter:function(t,n,e){var i,o;return(i=c[$(t)[0][a]])?(o=[],$.each(i.waypoints[n],function(t,n){if(e(i,n))return o.push(n)}),o.sort(function(t,n){return t.offset-n.offset}),$.map(o,function(t){return t.element})):[]}},$[m]=function(){var t,e;return e=arguments[0],t=2<=arguments.length?n.call(arguments,1):[],f[e]?f[e].apply(null,t):f.aggregate.call(null,e)},$[m].settings={resizeThrottle:100,scrollThrottle:30},i.on("load.waypoints",function(){return $[m]("refresh")})})}.call(this),function($){$.fn.unveil=function(t,n){function e(){var t=l.filter(function(){var t=$(this);if(!t.is(":hidden")){var n=i.scrollTop(),e=n+i.height(),r=t.offset().top;return r+t.height()>=n-o&&r<=e+o}});a=t.trigger("unveil"),l=l.not(a)}var i=$(window),o=t||0,r=window.devicePixelRatio>1,s=r?"data-src-retina":"data-src",l=this,a;return this.one("unveil",function(){var t=this.getAttribute(s);(t=t||this.getAttribute("data-src"))&&("IMG"===this.tagName?(this.setAttribute("src",t),this.parentElement.classList.add("is-loaded")):(this.style.backgroundImage="url("+t+")",this.parentElement.classList.add("is-loaded")),this.classList,"function"==typeof n&&n.call(this))}),i.on("scroll.unveil resize.unveil lookup.unveil",e),e(),this}}(window.jQuery||window.Zepto),$.easing.jswing=$.easing.swing,$.extend($.easing,{def:"easeInExpo",swing:function(t,n,e,i,o){return jQuery.easing[jQuery.easing.def](t,n,e,i,o)},easeInSine:function(t,n,e,i,o){return-i*Math.cos(n/o*(Math.PI/2))+i+e},easeOutSine:function(t,n,e,i,o){return i*Math.sin(n/o*(Math.PI/2))+e},easeInOutSine:function(t,n,e,i,o){return-i/2*(Math.cos(Math.PI*n/o)-1)+e},easeInExpo:function(t,n,e,i,o){return 0===n?e:i*Math.pow(2,10*(n/o-1))+e},easeOutExpo:function(t,n,e,i,o){return n===o?e+i:i*(1-Math.pow(2,-10*n/o))+e}}),function($){var t,n={settings:{articlesContainer:$(".js-article"),articleMastBg:$(".js-article-bg"),articleMastBgFirst:$(".js-article-bg:first-child"),articleLink:$(".js-article-link"),visibleClass:"is-visible",self:this},init:function(){t=this.settings,this.bind()},bind:function(){n.setupItems(),t.articleLink.hover(function(){t.self=this,n.handleHover()})},setupItems:function(){t.articleMastBgFirst.addClass("is-visible-start")},handleHover:function(){var n=t.articleLink.index(t.self)+1;t.articleMastBg.removeClass("is-visible-start").removeClass(t.visibleClass),$(".js-article-bg:nth-child("+n+")").addClass(t.visibleClass)}};$(".js-article-bg").length&&n.init()}(jQuery);var PageTransition=function(){var t,n="http://"+top.location.host.toString(),e="no-trans";return{settings:{noTransLinks:$('a[href^="'+n+'"], a[href^="/"], a[href^="./"], a[href^="../"]').not(".no-trans"),linkLocation:null,body:$("body"),exitDuration:1e3,entranceDuration:500},init:function(){t=this.settings,this.loadingClasses(),this.transitionPage(),this.unloadWindow(),this.workaround()},loadingClasses:function(){t.body.addClass("is-loading"),setTimeout(function(){$("body").removeClass("is-loading").addClass("is-loaded")},t.entranceDuration)},transitionPage:function(){t.noTransLinks.on("click",function(n){function e(){window.location=t.linkLocation}t.body.hasClass("no-trans")||n.metaKey||n.ctrlKey||n.shiftKey||(n.preventDefault(),t.linkLocation=this.href,t.body.removeClass("is-loaded").addClass("is-exiting"),setTimeout(function(){e()},t.exitDuration))})},unloadWindow:function(){$(window).unload(function(){$(window).unbind("unload")})},workaround:function(){$(window).bind("pageshow",function(t){t.originalEvent.persisted&&window.location.reload()})}}}();PageTransition.init(),function($){var t=function(){var n={scrollSpeed:600,scrollDelay:500,scrollOffset:0,easing:"easeInOutSine"};return{init:function(){this.doScroll()},doScroll:function(){window.location.hash&&setTimeout(function(){$("html, body").scrollTop(0).show(),$("html, body").stop().animate({scrollTop:$(window.location.hash).offset().top-n.scrollOffset},{duration:n.scrollSpeed,easing:n.scrollEasing,complete:t.headerEntrance})},n.scrollDelay)},headerEntrance:function(){setTimeout(function(){$("body").removeClass("scrolling-down").addClass("scrolling-up")},400)}}}();t.init()}(jQuery),function($){scrollDirection={init:function(){function t(){var t=$(this).scrollTop();Math.abs(e-t)<=i||(t>e&&t>o?$("body").removeClass("at-top close-to-top").removeClass("scrolling-up").addClass("scrolling-down"):t+$(window).height()<$(document).height()&&$("body").removeClass("scrolling-down").addClass("scrolling-up"),$("body").hasClass("scrolling-up")&&t<=225&&$("body").addClass("close-to-top"),t<=0&&$("body").removeClass("scrolling-down scrolling-up close-to-top").addClass("at-top"),e=t)}var n,e=0,i=15,o=$(".header-main").outerHeight();$(window).scroll(function(){n=!0}),setInterval(function(){n&&(t(),n=!1)},250)}},scrollDirection.init()}(jQuery),function($){var t=function(){var t=$(".js-sticky");if(t.length){var n=t.outerHeight(),e=t.data("sticky-offset");stickyStart=t.offset().top-e,didScroll=!1,scrollInterval="1500"}return{init:function(){this.setStyles(),this.doScroll()},setStyles:function(){t.each(function(){$(this).css("background",$(this).data("sticky-bg")),$(this).css("color",$(this).data("sticky-color"))})},doScroll:function(){$(window).scroll(function(){didScroll=!0}),setInterval(function(){didScroll&&(didScroll=!1,$(window).on("scroll",t,function(){console.log("triggering"),t.parent().height(n),$(window).scrollTop()>=stickyStart?t.addClass("is-sticky"):t.removeClass("is-sticky")}))},scrollInterval)}}}();$(".js-sticky").length&&t.init()}(jQuery);var Spanizer=function(){var t;return{settings:{letters:$(".js-letters"),words:$(".js-words")},init:function(){t=this.settings,this.bindEvents()},bindEvents:function(){Spanizer.letters(),Spanizer.words()},letters:function(){t.letters.html(function(t,n){var e=$.trim(n).split(""),i=[];return e.forEach(function(t){" "!==t?i.push("<span>"+t+"</span>"):i.push("<span>&nbsp;</span>")}),i.join("")})},words:function(){t.words.html(function(t,n){var e=n.split(" "),i=[];return"<span>"+e.join("</span> <span>")+"</span>"})}}}();($(".js-letters").length||$(".js-words").length)&&Spanizer.init();var ScrollSequencer=function(){var t=$(".js-scroll"),n=t.data("scroll-seq"),e=$(".js-scroll").data("scroll-offset"),i=$('[data-scroll-seq="'+n+'"]');return{init:function(){this.scrollTrigger()},scrollTrigger:function(t){i.each(function(){var i=$(this);(t||i).waypoint(function(){function t(){i!==e.length&&(e.eq(i++).addClass("is-animated"),window.setTimeout(t,200))}var e=$(n),i=0;t()},{triggerOnce:!1,offset:e})})}}}();ScrollSequencer.init(),function($){({init:function(t){$("[data-scroll]").each(function(){var n=$(this);(t||n).waypoint(function(){n.addClass("is-animated")},{triggerOnce:!0,offset:"90%"})})}}).init()}(jQuery);var AnimationDelay=function(){var t=document.querySelectorAll("body"),n=document.querySelectorAll("[data-ani-delay]");return{init:function(){this.startAnimation()},startAnimation:function(){console.log(n),Array.from(n).forEach(function(t){console.log(t);var n=t.dataset.aniDelay;console.log(n),setTimeout(function(){t.classList.add("is-animated")},n)})}}}();AnimationDelay.init(),function($){var t,n={settings:{promoContainer:$(".js-promo"),promoTrans:$(".js-promo-trans"),promoImg:$(".js-promo-bg"),promoLink:$(".js-promo-link"),body:$("body"),self:this},init:function(){t=this.settings,this.bind()},bind:function(){n.setupItems(),t.promoLink.hover(function(){t.self=this,n.handleHover()})},setupItems:function(){},handleHover:function(){if($(window).width()>767){var n=t.promoLink.index(t.self)+1;$(".js-promo-bg:nth-child("+n+")").toggleClass("is-visible").fadeIn("300"),$(".js-promo").toggleClass("is-hovering")}}};$(".js-promo-bg").length&&n.init()}(jQuery);var site={featureJS:function(){$("html").removeClass("no-js"),feature.svg||$("html").addClass("no-svg"),feature.cssFlexbox||$("html").addClass("no-flexbox")},mobileBgVid:function(){var t=$(".js-bg-vid").get(0);enableInlineVideo(t,{iPad:!0})},lazy:function(){$(".js-lazy").unveil(-200,function(){$(this).load(function(){$(this).parents(".post__figure").addClass("is-loaded")})})}};$(function(){site.featureJS(),$(".js-lazy").length&&site.lazy(),$(".js-bg-vid").length});